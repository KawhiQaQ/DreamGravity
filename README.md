# DreamGravity æ¢¦æœ‰å¼•åŠ› ğŸŒ™

> è®°å½•æ¢¦å¢ƒï¼Œè§£ææ½œæ„è¯†ï¼Œæ„å»ºä½ çš„ä¸“å±æ¢¦å¢ƒå®‡å®™

DreamGravity æ˜¯ä¸€æ¬¾åŸºäº AI çš„æ¢¦å¢ƒè®°å½•ä¸åˆ†æåº”ç”¨ï¼Œå¸®åŠ©ä½ æ•æ‰æ¯ä¸€ä¸ªæ¢¦å¢ƒç‰‡æ®µï¼Œæ·±å…¥è§£ææ¢¦å¢ƒèƒŒåçš„è±¡å¾æ„ä¹‰ï¼Œå¹¶å°†ä½ çš„æ¢¦å¢ƒä¸–ç•Œå¯è§†åŒ–å‘ˆç°ã€‚

<p align="center">
  <img src="figures/5.png" width="45%" />
  <img src="figures/6.png" width="45%" />
</p>
<p align="center">
  <img src="figures/1.png" width="45%" />
  <img src="figures/2.png" width="45%" />
</p>
<p align="center">
  <img src="figures/3.png" width="45%" />
  <img src="figures/4.png" width="45%" />
</p>

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½æ¨¡å— | æè¿° |
|---------|------|
| ğŸ“ æ¢¦å¢ƒè®°å½• | æ–‡å­—/è¯­éŸ³è¾“å…¥ï¼Œæƒ…ç»ªæ ‡ç­¾ï¼Œæ¸…æ™°åº¦è¯„åˆ†ï¼Œé‡å¤æ¢¦å¢ƒè¿½è¸ª |
| ğŸ”® AI æ™ºèƒ½è§£æ | è±¡å¾æ„ä¹‰åˆ†æï¼Œæ¨¡å¼è¯†åˆ«ï¼ˆå‹åŠ›æº/é‡å¤ä¸»é¢˜/é¢„ç¤ºæ€§ï¼‰ï¼Œå¿ƒç†æ´å¯Ÿ |
| ğŸ¨ åˆ›æ„ç”Ÿæˆ | æ¢¦å¢ƒå¯è§†åŒ–å›¾ç‰‡ï¼ŒçŸ­ç¯‡æ•…äº‹/è¯—æ­Œæ”¹ç¼–ï¼Œä¸“å± IP è§’è‰² |
| ğŸ“Š æ•°æ®å¯è§†åŒ– | æ—¶é—´è½´/æ—¥å†è§†å›¾ï¼Œå…ƒç´ å›¾è°±ï¼Œæ¢¦å¢ƒæ˜Ÿåº§å¡ç‰‡ï¼Œç»Ÿè®¡æŠ¥å‘Š |
| ğŸ“… å‘¨æŠ¥ç³»ç»Ÿ | æ¯å‘¨æ¢¦å¢ƒæ€»ç»“ï¼Œå‘¨åº¦ IP è§’è‰²å’Œå›¾è…¾ï¼Œè¶‹åŠ¿è¿½è¸ª |
| ğŸŒ é›†ä½“æ½œæ„è¯†æ±  | åŒ¿ååˆ†äº«ï¼Œæµè§ˆä»–äººæ¢¦å¢ƒï¼Œèåˆ"æ¢¦å¢ƒå®‡å®™"æ•…äº‹ |
| ğŸ“¤ å¯¼å‡ºåŠŸèƒ½ | æ¢¦å¢ƒè¯¦æƒ… PDFï¼Œç»Ÿè®¡æŠ¥å‘Šï¼Œæ˜Ÿåº§å¡ç‰‡ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | React 18 + TypeScript + Vite + Tailwind CSS |
| åç«¯ | Node.js + Express + TypeScript |
| æ•°æ®åº“ | SQLite (better-sqlite3) |
| AI æœåŠ¡ | æ™ºè°± AI (GLM-4 / CogView-3) |
| å¯è§†åŒ– | D3.js + Recharts + Three.js |

## ğŸ”§ é¡¹ç›®ç»“æ„

```
dream-gravity/
â”œâ”€â”€ frontend/                # React å‰ç«¯åº”ç”¨
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/      # UI ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ AnalysisCards/       # åˆ†æå¡ç‰‡
â”‚       â”‚   â”œâ”€â”€ BreathingUniverse/   # å‘¼å¸å®‡å®™åŠ¨æ•ˆ
â”‚       â”‚   â”œâ”€â”€ Calendar/            # æ—¥å†ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ ConstellationMap/    # æ˜Ÿåº§å›¾è°±
â”‚       â”‚   â”œâ”€â”€ DreamFollowup/       # æ¢¦å¢ƒåç»­å…³è”
â”‚       â”‚   â”œâ”€â”€ DreamInputForm/      # æ¢¦å¢ƒè¾“å…¥è¡¨å•
â”‚       â”‚   â”œâ”€â”€ DreamPattern/        # æ¢¦å¢ƒæ¨¡å¼
â”‚       â”‚   â”œâ”€â”€ ExportPdf/           # PDF å¯¼å‡º
â”‚       â”‚   â”œâ”€â”€ SubconsciousEcho/    # æ½œæ„è¯†å›å“
â”‚       â”‚   â”œâ”€â”€ Timeline/            # æ—¶é—´è½´
â”‚       â”‚   â””â”€â”€ VoiceRecorder/       # è¯­éŸ³å½•å…¥
â”‚       â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚       â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ backend/                 # Express åç«¯æœåŠ¡
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ dao/             # æ•°æ®è®¿é—®å±‚
â”‚       â”œâ”€â”€ database/        # æ•°æ®åº“é…ç½®
â”‚       â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚       â”œâ”€â”€ routes/          # API è·¯ç”±
â”‚       â””â”€â”€ services/        # ä¸šåŠ¡æœåŠ¡
â”‚           â””â”€â”€ ai/          # AI æœåŠ¡å°è£…
â””â”€â”€ shared/                  # å…±äº«ç±»å‹å®šä¹‰
    â””â”€â”€ types/
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- npm >= 9

### å®‰è£…ä¸é…ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd dream-gravity

# ä¸€é”®å®‰è£…æ‰€æœ‰ä¾èµ–
npm run install:all

# é…ç½®ç¯å¢ƒå˜é‡
cd backend
copy .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥æ™ºè°± AI API Key
```

> ğŸ’¡ è·å– API Keyï¼šè®¿é—® [æ™ºè°± AI å¼€æ”¾å¹³å°](https://open.bigmodel.cn/)

### å¯åŠ¨

```bash
# åœ¨æ ¹ç›®å½•ä¸€é”®å¯åŠ¨å‰åç«¯
npm run dev
```

è®¿é—® http://localhost:5173 å¼€å§‹ä½¿ç”¨ã€‚

## ğŸ“¡ API ç«¯ç‚¹

### æ¢¦å¢ƒç®¡ç†
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| GET | /api/dreams | è·å–æ¢¦å¢ƒåˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µå’Œç­›é€‰ï¼‰ |
| POST | /api/dreams | åˆ›å»ºæ–°æ¢¦å¢ƒ |
| GET | /api/dreams/:id | è·å–æ¢¦å¢ƒè¯¦æƒ… |
| PUT | /api/dreams/:id | æ›´æ–°æ¢¦å¢ƒ |
| DELETE | /api/dreams/:id | åˆ é™¤æ¢¦å¢ƒ |
| POST | /api/dreams/batch-delete | æ‰¹é‡åˆ é™¤æ¢¦å¢ƒ |

### AI åˆ†æ
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| POST | /api/dreams/:id/analyze | AI è§£ææ¢¦å¢ƒ |
| POST | /api/dreams/:id/generate-image | ç”Ÿæˆæ¢¦å¢ƒå›¾ç‰‡ |
| POST | /api/dreams/:id/generate-creative | ç”Ÿæˆåˆ›æ„å†…å®¹ï¼ˆæ•…äº‹/è¯—æ­Œï¼‰ |

### æ¢¦å¢ƒæ¨¡å¼
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| POST | /api/dreams/:id/patterns | åˆ†ææ¢¦å¢ƒæ¨¡å¼ |
| GET | /api/patterns/summary | è·å–æ¨¡å¼ç»Ÿè®¡æ‘˜è¦ |

### åç»­å…³è”
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| POST | /api/dreams/:id/followups | æ·»åŠ åç»­å…³è” |
| GET | /api/dreams/:id/followups | è·å–æ¢¦å¢ƒçš„åç»­å…³è” |

### ç»Ÿè®¡ä¸æŠ¥å‘Š
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| GET | /api/statistics | è·å–æ¢¦å¢ƒç»Ÿè®¡æ•°æ® |
| POST | /api/statistics/report | ç”Ÿæˆ AI åˆ†ææŠ¥å‘Š |
| GET | /api/statistics/reports | è·å–å†å²æŠ¥å‘Šåˆ—è¡¨ |

### å…ƒç´ å›¾è°±
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| GET | /api/element-graph | è·å–æ¢¦å¢ƒå…ƒç´ å›¾è°± |
| POST | /api/element-graph/constellation | ç”Ÿæˆæ˜Ÿåº§å¡ç‰‡ |
| GET | /api/element-graph/constellations | è·å–æ˜Ÿåº§å¡ç‰‡åˆ—è¡¨ |

### å‘¨æŠ¥
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| GET | /api/weekly-reports/weeks | è·å–æ‰€æœ‰å‘¨åˆ—è¡¨ |
| POST | /api/weekly-reports | ç”Ÿæˆå‘¨æŠ¥ |
| GET | /api/weekly-reports/:id | è·å–å‘¨æŠ¥è¯¦æƒ… |
| POST | /api/weekly-reports/:id/generate-ip | ç”Ÿæˆ IP è§’è‰²å›¾ç‰‡ |

### é›†ä½“æ½œæ„è¯†æ± 
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| POST | /api/collective/share | åˆ†äº«æ¢¦å¢ƒåˆ°å…¬å…±æ±  |
| GET | /api/collective/dreams | è·å–å…¬å…±æ± æ¢¦å¢ƒåˆ—è¡¨ |
| POST | /api/collective/universe-story | ç”Ÿæˆæ¢¦å¢ƒå®‡å®™æ•…äº‹ |

### å¯¼å‡º
| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| POST | /api/exports/dream-pdf | å¯¼å‡ºæ¢¦å¢ƒè¯¦æƒ… PDF |
| POST | /api/exports/report-pdf | å¯¼å‡ºç»Ÿè®¡æŠ¥å‘Š PDF |

## ğŸ—ï¸ æ„å»ºä¸éƒ¨ç½²

```bash
# æ„å»ºå…¨éƒ¨
npm run build

# å•ç‹¬æ„å»º
npm run build:frontend
npm run build:backend
```

### éƒ¨ç½²å»ºè®®

| æœåŠ¡ | æ¨èå¹³å° | é…ç½®è¦ç‚¹ |
|------|---------|---------|
| å‰ç«¯ | Vercel | æ ¹ç›®å½•è®¾ä¸º `frontend`ï¼Œé…ç½® `VITE_API_URL` |
| åç«¯ | Railway / Render | æ ¹ç›®å½•è®¾ä¸º `backend`ï¼Œé…ç½® `ZHIPU_API_KEY` å’Œ `FRONTEND_URL` |

## ğŸ“„ è®¸å¯è¯

MIT License
